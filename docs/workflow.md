# NovelDrive ワークフロー仕様書

## 全体フロー概要

```
情報収集 → プロット生成 → プロット議論 → 執筆 → 校閲 → 次作への展開
```

## フェーズ1: 情報収集とインプット

### 人間の役割
- なんでもボックスに大量の情報を投入
  - ニュース記事、SNS、論文、メモ、画像など
  - 興味を引いた情報を選別せずにどんどん投入

### システムの処理
- 投入された情報を自動的に分解・分析
- インスピレーションを抽出してノード化
- 既存の知識ネットワークと接続

## フェーズ2: プロット生成

### 作家AIの活動
- なんでもボックスの情報からセレンディピティを獲得
- 予期せぬ組み合わせから新しいプロットを創出
- 「もしも〜だったら」の発想で物語を構築

### マルチエージェント議論
1. **作家AI**: 初期プロット提示
2. **編集AI**: 構成・ペース・感情バランスの観点から意見
3. **副編集長AI**: 市場性・読者受け・因果応報性を評価
4. **人間（編集長）**: チャットで適宜介入、方向性を調整

### プロット管理
- 議論を経たプロットは保存
- プロットのバージョニング（A → A' → A''）
- いつでも過去のバージョンに戻って再議論可能

## フェーズ3: 執筆

### 執筆プロセス
1. **作家AI**: 
   - プロットに基づいて章単位で執筆
   - 1章あたり約2万文字を目安に執筆（LLMのコンテキスト制限を考慮）
   - 各章執筆前に前章までの圧縮コンテキストを読み込み
2. **編集AI**: 
   - プロットを要約・把握
   - 執筆内容がプロットを満たしているか確認
   - 逸脱があれば指摘
   - 章ごとにコンテキストを圧縮して保存
3. **副編集長AI**: 
   - 全体の流れを俯瞰
   - 商業的観点からアドバイス
   - 章間の整合性を確認
4. **校閲AI**: 
   - 執筆済み部分を読み込み
   - 作品固有の知識ベースを構築
   - 矛盾や設定ミスを指摘
   - 文体・時制・視点の一貫性をチェック

### 章単位執筆システム
- **章の分割**: プロットを約2万文字の章に自動分割
- **コンテキスト管理**: 
  - 各AIエージェントは前章までの内容を圧縮形式で保持
  - 章執筆開始時に必要な情報（キャラクター、設定、前章の要約）を読み込み
  - 執筆完了後、その章の要約を次章用に生成
- **レビューサイクル**: 各章完成後、全AIエージェントと人間でレビュー

### 人間の介入
- 執筆中の任意のタイミングで介入可能
- AIの提案を採用/却下
- 直接的な修正指示

## フェーズ4: 完成と次作への展開

### 小説の保存
- 完成した小説は作品として保存
- メタデータ（執筆期間、使用したプロット、議論ログ）も保持

### 続編・関連作の創作
- 完成作品を新たなノードとして知識ベースに追加
- 続きのプロット作成フェーズへ移行可能
- 世界観、キャラクター、設定を引き継いだ新作創作

## 特殊モード

### 24時間稼働モード
- AIエージェントがバックグラウンドで自律的に活動
- 新しいプロットを生成し、議論を重ねる
- 副編集長AIの評価が高いものだけを保存
- 人間は好きな時にチェックして採用

### 並行執筆モード
- 複数のプロットを同時進行
- 異なる世界線での執筆（パラレルワールド）
- AIエージェントが複数の作品を管理

## データフローのポイント

1. **すべてがノード**: あらゆる情報、アイデア、作品がノードとして保存
2. **自動的な関連付け**: ノード間の関係性を自動で発見・構築
3. **時間による熟成**: 古い情報も新しい文脈で再活用
4. **累積的な成長**: 作品を重ねるごとに知識ベースが豊かに

## 成功のポイント

- 人間は「選別しない」ことが重要（なんでも投入）
- AIの暴走的な提案も一旦は受け入れる
- 議論の過程自体が創作の一部
- 完璧を求めず、イテレーションで改善